<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>飞椅档案</title><meta name="author" content="大笑之"><meta name="copyright" content="大笑之"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="学习，进步">
<meta property="og:type" content="website">
<meta property="og:title" content="飞椅档案">
<meta property="og:url" content="https://www.qzwjer.top/page/5/index.html">
<meta property="og:site_name" content="飞椅档案">
<meta property="og:description" content="学习，进步">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://www.qzwjer.top/img/my.png">
<meta property="article:author" content="大笑之">
<meta property="article:tag" content="学习">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://www.qzwjer.top/img/my.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://www.qzwjer.top/page/5/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="/%E5%A4%A7%E7%AC%91%E4%B9%8B" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"LBJXVBG23C","apiKey":"752a46c2f4bc602649e74440371e5e0b","indexName":"hexo","hits":{"per_page":6},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: {"limitDay":500,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":false,"highlightLang":false,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-left"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '飞椅档案',
  isPost: false,
  isHome: true,
  isHighlightShrink: undefined,
  isToc: false,
  postUpdate: '2022-11-08 10:20:57'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><script>const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',()=> { preloader.endLoading() })

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "/img/loading.gif" data-lazy-src="/img/my.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">103</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">53</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 文档</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 宝箱</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/common-sense/"><i class="fa-fw fas fa-book"></i><span> 常识</span></a></div><div class="menus_item"><a class="site-page" href="/study/"><i class="fa-fw fas fa-list-alt"></i><span> 清单</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('/img/home-page.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">飞椅档案</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 文档</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 宝箱</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> Music</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/common-sense/"><i class="fa-fw fas fa-book"></i><span> 常识</span></a></div><div class="menus_item"><a class="site-page" href="/study/"><i class="fa-fw fas fa-list-alt"></i><span> 清单</span></a></div><div class="menus_item"><a class="site-page" href="/messageboard/"><i class="fa-fw fas fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于我</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">飞椅档案</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/qzwjer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1010094375@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/11/%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1%EF%BC%9A%E7%AE%A1%E9%81%93/" title="进程间通信：管道">进程间通信：管道</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-11-24T08:15:59.000Z" title="发表于 2021-11-24 16:15:59">2021-11-24</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-05-07T06:25:01.352Z" title="更新于 2022-05-07 14:25:01">2022-05-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%9D%82%E6%96%87%E9%9B%86%E5%90%88/">杂文集合</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/CC/">CC++</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/Linux/">Linux</a></span></div><div class="content">一、非命名管道非命名管道适用于父子进程之间通信。
12345678910111213141516171819202122232425262728293031323334353637383940414243#include &lt;string.h&gt;#include &lt;sys/types.h&gt;int main()&#123;	pid_t result;	int r_num;	int pipe_fd[2];	char buf_r[100],buf_w[100];	memset(buf_r,0,sizeof(buf_r));	if(pipe(pipe_fd)&lt;0)	&#123;		printf(&quot;create pipe fail&quot;);		return -1;	&#125;	result = fork();//)tu	if(result &lt; 0)	&#123;		printf(&quot;create sub procedure fail&quot;);		exit(0);	&#125;	else if(result == 0)	&#123;	 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/11/Qt%E5%B8%83%E5%B1%80%E4%B8%8D%E7%94%9F%E6%95%88/" title="Qt布局不生效">Qt布局不生效</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-11-24T08:15:49.000Z" title="发表于 2021-11-24 16:15:49">2021-11-24</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-05-07T06:25:01.122Z" title="更新于 2022-05-07 14:25:01">2022-05-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%9D%82%E6%96%87%E9%9B%86%E5%90%88/">杂文集合</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Qt/">Qt</a></span></div><div class="content">描述：
在qt designer 上使用布局控件后，实际未生效，在对象查看器中发现 centralwidget 被禁用。
现象：在 Designer 的对象查看器中可以看到，布局控件被打了红色表示忽略的标记。而在主设计区中网格布局控件未生效。
版本：QT5.9
原因：centralwidget 需要设置布局。
方法：

在主设计区窗口空白处右击，选择鼠标菜单下面的 layout 中的一种即可。

或者在对象查看器中右击 MainWindow，选择 layout 中的一个。


</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/11/Qt%EF%BC%9Acmake%E9%A1%B9%E7%9B%AE%E9%85%8D%E7%BD%AE/" title="Qt：cmake项目配置">Qt：cmake项目配置</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-11-24T08:15:18.000Z" title="发表于 2021-11-24 16:15:18">2021-11-24</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-05-07T06:25:00.920Z" title="更新于 2022-05-07 14:25:00">2022-05-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%9D%82%E6%96%87%E9%9B%86%E5%90%88/">杂文集合</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Qt/">Qt</a></span></div><div class="content">1.添加SQL支持
添加组件
   添加 find_package(Qt$&#123;QT_VERSION_MAJOR&#125; COMPONENTS Sql REQUIRED)
   或 find_package(Qt5 REQUIRED COMPONENTS Core Quick Sql)

添加库
   在target_link_libraries中添加Qt$&#123;QT_VERSION_MAJOR&#125;::Sql


2.添加资源文件本篇文章主要作为备份。
来源：博客https://blog.csdn.net/baidu_35557785/article/details/52072563
12345678910111213141516171819# 1 添加项目file(GLOB_RECURSE QRC_SOURCE_FILES $&#123;CMAKE_CURRENT_SOURCE_DIR&#125;/*.qrc)# CMAKE_CURRENT_SOURCE_DIR是和cmakelist的路径# 2 添加资源文件set(QRC_SOURCE_FILES image ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/11/Qt%EF%BC%9A%E5%88%9B%E5%BB%BA%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E6%8F%92%E4%BB%B6/" title="Qt：创建应用程序插件">Qt：创建应用程序插件</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-11-24T08:15:02.000Z" title="发表于 2021-11-24 16:15:02">2021-11-24</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-05-07T06:25:01.044Z" title="更新于 2022-05-07 14:25:01">2022-05-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%9D%82%E6%96%87%E9%9B%86%E5%90%88/">杂文集合</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Qt/">Qt</a></span></div><div class="content">资料：Qt Creator快速入门
创建应用程序插件创建一个插件时，要先创建一个接口，接口就是一个类，它只包含纯虚函数。插件类要继承自该接口。插件类存储在一个共享库中，因此可以在应用程序运行时进行加载。
创建一个插件包括以下几步：

定义一个插件类，它需要同时继承自 QObject 类和该插件所提供的功能对应的接口类；
使用 Q_INTERFACES() 宏在 Qt 的元对象系统中注册该接口；
使用 Q_PLUGIN_METADATA() 宏导出该插件；
使用合适的 .pro 文件构建该插件；

使用一个应用程序可以通过插件进行扩展要进行以下几步：

定义一组接口（只有纯虚函数的抽象类）；
使用 Q_DECLARE_INTERFACE() 宏在 Qt 的元对象系统中注册该接口；
在应用程序中使用 QPluginLoader 来加载插件；
使用 qobject_cast() 来测试插件是否实现了给定的接口；

下面通过创建一个过滤字符串中出现的第一个数字的插件来学习应用程序插件的创建过程。这里需要创建两个项目，一个项目用来生成插件，即 dll 文件；另一个项目是测试程序，用来使用插件。
 ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/11/Qt%EF%BC%9A%E5%88%9B%E5%BB%BAQtDesigner%E8%87%AA%E5%AE%9A%E4%B9%89%E9%83%A8%E4%BB%B6/" title="Qt：创建QtDesigner自定义部件">Qt：创建QtDesigner自定义部件</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-11-24T08:14:41.000Z" title="发表于 2021-11-24 16:14:41">2021-11-24</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-05-07T06:25:01.003Z" title="更新于 2022-05-07 14:25:01">2022-05-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%9D%82%E6%96%87%E9%9B%86%E5%90%88/">杂文集合</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Qt/">Qt</a></span></div><div class="content">Qt Designer 基于插件的架构使得它可以使用用户设计或者第三方提供的自定义部件，就像使用标准的 Qt 部件一样。自定义部件中的所有特性在 Qt Designer 中都是可用的，这包含了部件属性、信号和槽等。

创建项目。新建项目，模板选择 “Other Project” 分类中的 “Qt Custom Designer Widget”，项目名称定位 mydesigner，控件类改为 MyDesign，然后在右侧指定图标文件的路径（不指定的话使用 Qt 默认图标），其他选项保持默认。后面步骤全部保持默认直到完成项目的创建。
注意，在创建项目，选择编译 kit 时，选择 64位 msvc2019（我的 Qt Creator 是64位msvc2019编译的），因为后面生成的 dll 文件与编译套件相关，生成的 dll 文件版本如果与 Qt Creator、designer 不匹配，则部件无法加入。


更改部件。可以通过修改 mydesign.h 和 mydesign.cpp（注意，在 mydesign 工程列表下的 mydesign 目录下，如下图），修改部件。

进入 mydes ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/11/%E9%98%BF%E9%87%8C%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%95%85%E9%9A%9C/" title="阿里云服务器故障">阿里云服务器故障</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-11-24T08:14:12.000Z" title="发表于 2021-11-24 16:14:12">2021-11-24</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-05-07T06:25:00.340Z" title="更新于 2022-05-07 14:25:00">2022-05-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/">疑难杂症</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E4%BA%91%E6%9C%8D%E5%8A%A1%E5%99%A8/">云服务器</a></span></div><div class="content">2021-11-23，今日在拷贝文件准备搭建测试服务器时，突然发生无法登录网站的情况。
详情：
准备搭建测试服务器，因此从原服务器上拷贝一份文件，原服务器上的程序同时在运行中。

拷贝的时候，对文件夹打包压缩，有些文件提示正在被其它程序使用，一般是日志文件，忽视掉继续压缩；

在拷贝过程中，删除了一些过期的日志文件；

由于嫌拷贝文件太慢，想着能不能通过网络传输。当时脑子一糊，寻思测试服务器会不会和当前服务器在一个局域网里，查看了内网 IP ，两个 IP 的最后一个字段一个 51，一个 52，当即认为两个服务器在同一个局域网里，大喜，于是开启网络共享，准备从局域网传输文件。然而开启后另一边一查，不对，找不到，于是检查发现网络共享竟打不开，只好作罢。


在上述一番操作下，终于群里面有人报说网站无法登录，本来寻思重启一下 tomcat 就能解决，之后重启数次， tomcat 倒是能正常启动，但网站依旧无法打开，然后就抓瞎了。
解决：
赶紧找张总晓磊帮忙，开始分析是端口被占用，于是关闭了 IIS 服务，随后又检查 tomcat 配置，以及证书是否过期等，均无法解决。我亦纳闷我在拷贝文件时， ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/10/%E5%87%BD%E6%95%B0%E5%8F%82%E6%95%B0%E5%8F%8A%E5%8F%AF%E5%8F%98%E5%8F%82/" title="函数参数及可变参">函数参数及可变参</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-10-29T09:59:44.000Z" title="发表于 2021-10-29 17:59:44">2021-10-29</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-05-07T06:25:01.316Z" title="更新于 2022-05-07 14:25:01">2022-05-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%9D%82%E6%96%87%E9%9B%86%E5%90%88/">杂文集合</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%9F%BA%E7%A1%80/">基础</a></span></div><div class="content">首先了解一个新知识，函数的参数列表的地址是顺序排列的，以下代码验证这一知识。
12345678910111213141516171819202122#include &lt;stdio.h&gt;void func1(int a, int b, int c)&#123;    printf(&quot;%d\n&quot;,a);    printf(&quot;%d\n&quot;,*(&amp;a+1));    printf(&quot;%d\n&quot;,*(&amp;a+2));&#125;void func2(int a, int b, int c)&#123;    printf(&quot;%d\n&quot;,a);    printf(&quot;%d\n&quot;,*((char*)&amp;a+sizeof(a)));    printf(&quot;%d\n&quot;,*((char*)&amp;a+sizeof(a)*2));&#125;int main()&#123;    func1(1,4,6);//打印1，4，6    func2(2,5,8) ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/10/OTA%E5%B8%B8%E7%94%A8%E4%BB%A3%E7%A0%81/" title="OTA常用代码">OTA常用代码</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-10-27T04:35:29.000Z" title="发表于 2021-10-27 12:35:29">2021-10-27</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-06-09T01:35:38.462Z" title="更新于 2022-06-09 09:35:38">2022-06-09</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/">学习总结</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/">嵌入式</a></span></div><div class="content">在嵌入式开发中，使产品的软件能够更新升级是个很常见的需求，作为开发人员，能够快速熟练地实现该功能是基本能力。
一般当设备不具备直接获取完整的更新文件时，需要逐包获取更新文件，因此要设计专门的更新代码以实现此功能。
在此记录下OTA的常用升级代码，以备不时之需。
1.数据结构首先先来定义OTA需要的数据结构：

具有更新功能的软件，必须定义软件版本号，以下为一个参考：

123456789101112//version.h#ifndef __VERSION_H__#define __VERSION_H__#define PROJECT_ID       0x2A4B     /**&lt;each project has its own ID*/#define BOOT_VERSION     0x0        /**&lt;BOOT LOADER version*/#define STACK_VERSION    0x16       /**&lt;stack version*/#define USER_APP_VERSION 0x0002     /**&lt;user only ...</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/10/js%E6%B5%AE%E7%82%B9%E6%95%B0%E5%A4%84%E7%90%86/" title="js浮点数处理">js浮点数处理</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-10-25T10:11:06.000Z" title="发表于 2021-10-25 18:11:06">2021-10-25</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-05-07T06:24:59.963Z" title="更新于 2022-05-07 14:24:59">2022-05-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/">疑难杂症</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/">微信小程序</a><span class="article-meta-link">•</span><a class="article-meta__tags" href="/tags/JavaScript/">JavaScript</a></span></div><div class="content">1.参考https://cloud.tencent.com/developer/ask/180535

2.正确示例12345678910111213141516171819202122const fnumb = Math.PI;const fstr = fnumb.toString();#浮点数转字节数组const buffer = new ArrayBuffer(4);  //双精度为8const uf8 = new Uint8Array(buffer);const f32 = new Float32Array(buffer);f32[0] = fnumb;console.log(uf8);#字节数组转浮点数uf8[0] = 219;uf8[1] = 15;uf8[2] = 73;uf8[3] = 64;console.log(f32);#浮点数转字符串数组1.先将浮点数转为字节数组2.再将字节数组toString()#字符串相关操作与上类似



3.保留小数位数123var n = Math.PI;n = n.toFixed(5); //保留5位小数

</div></div></div><div class="recent-post-item"><div class="recent-post-info no-cover"><a class="article-title" href="/2021/09/Qt%E6%97%A0%E6%B3%95%E5%AE%9A%E4%BD%8D%E7%A8%8B%E5%BA%8F%E8%BE%93%E5%85%A5%E7%82%B9/" title="Qt无法定位程序输入点">Qt无法定位程序输入点</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-09-30T02:53:08.000Z" title="发表于 2021-09-30 10:53:08">2021-09-30</time><span class="article-meta-separator">|</span><i class="fas fa-history"></i><span class="article-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-05-07T06:25:00.084Z" title="更新于 2022-05-07 14:25:00">2022-05-07</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/">疑难杂症</a></span><span class="article-meta tags"><span class="article-meta-separator">|</span><i class="fas fa-tag"></i><a class="article-meta__tags" href="/tags/Qt/">Qt</a></span></div><div class="content">先背一遍Qt代码：1234567891011#include &lt;QApplication&gt;#include &lt;QMainWindow&gt;int main(int argc, char* argv[])&#123;    QApplication app(argc, argv);    QMainWindow mw;    mw.show();    app.exec();    return 0;&#125;
编译生成123qmake -project QT+=widgetsqmakemake

运行错误
出现以上问题，是动态链接库被污染了，某些程序中也包含Qt5Core.dll文件，且在Path相对考前的位置，因此调用时会找错地方。
解决：把Qt官方路径放到Path前列。
</div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/4/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/#content-inner">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/#content-inner">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/#content-inner">11</a><a class="extend next" rel="next" href="/page/6/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src= "/img/loading.gif" data-lazy-src="/img/my.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">大笑之</div><div class="author-info__description">学习，进步</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">103</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">53</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/qzwjer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1010094375@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/11/switch%E5%AD%97%E7%AC%A6%E4%B8%B2/" title="switch字符串">switch字符串</a><time datetime="2022-11-04T06:57:00.000Z" title="发表于 2022-11-04 14:57:00">2022-11-04</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/11/npm-yarn%E6%9B%B4%E6%96%B0%E9%95%9C%E5%83%8F/" title="npm_yarn更新镜像">npm_yarn更新镜像</a><time datetime="2022-11-02T07:36:00.000Z" title="发表于 2022-11-02 15:36:00">2022-11-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/11/cJSON%E4%BD%BF%E7%94%A8%E4%BA%8B%E9%A1%B9/" title="cJSON使用事项">cJSON使用事项</a><time datetime="2022-11-02T03:29:00.000Z" title="发表于 2022-11-02 11:29:00">2022-11-02</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/10/%E8%87%AA%E5%AE%9A%E4%B9%89malloc%E5%88%86%E9%85%8D%E6%95%B0%E7%BB%84%E7%A9%BA%E9%97%B4/" title="自定义malloc分配数组空间">自定义malloc分配数组空间</a><time datetime="2022-10-28T12:41:00.000Z" title="发表于 2022-10-28 20:41:00">2022-10-28</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2022/10/C%E5%AE%8F%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0%E6%89%A9%E5%B1%95/" title="C宏可变参数扩展">C宏可变参数扩展</a><time datetime="2022-10-26T02:28:00.000Z" title="发表于 2022-10-26 10:28:00">2022-10-26</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93/"><span class="card-category-list-name">学习总结</span><span class="card-category-list-count">22</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%9D%82%E6%96%87%E9%9B%86%E5%90%88/"><span class="card-category-list-name">杂文集合</span><span class="card-category-list-count">37</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%94%9F%E6%B4%BB%E6%84%9F%E6%83%B3/"><span class="card-category-list-name">生活感想</span><span class="card-category-list-count">14</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%96%91%E9%9A%BE%E6%9D%82%E7%97%87/"><span class="card-category-list-name">疑难杂症</span><span class="card-category-list-count">16</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%AE%97%E6%B3%95%E9%A2%98%E8%A7%A3/"><span class="card-category-list-name">算法题解</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E9%A1%B9%E7%9B%AE%E5%BC%80%E5%8F%91/"><span class="card-category-list-name">项目开发</span><span class="card-category-list-count">12</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/CDN/" style="font-size: 1.15em; color: rgb(34, 5, 23)">CDN</a><a href="/tags/%E5%AE%8F/" style="font-size: 1.15em; color: rgb(168, 67, 180)">宏</a><a href="/tags/CC/" style="font-size: 1.4em; color: rgb(50, 104, 181)">CC++</a><a href="/tags/git/" style="font-size: 1.25em; color: rgb(59, 167, 44)">git</a><a href="/tags/Linux/" style="font-size: 1.35em; color: rgb(116, 70, 2)">Linux</a><a href="/tags/BLE/" style="font-size: 1.25em; color: rgb(74, 132, 170)">BLE</a><a href="/tags/%E5%BB%BA%E7%AB%99/" style="font-size: 1.25em; color: rgb(96, 79, 78)">建站</a><a href="/tags/Qt/" style="font-size: 1.45em; color: rgb(56, 195, 167)">Qt</a><a href="/tags/%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F/" style="font-size: 1.15em; color: rgb(136, 47, 132)">单例模式</a><a href="/tags/npm/" style="font-size: 1.15em; color: rgb(199, 10, 6)">npm</a><a href="/tags/yarn/" style="font-size: 1.15em; color: rgb(9, 93, 1)">yarn</a><a href="/tags/vim/" style="font-size: 1.25em; color: rgb(2, 198, 109)">vim</a><a href="/tags/cJSON/" style="font-size: 1.15em; color: rgb(163, 18, 117)">cJSON</a><a href="/tags/AT/" style="font-size: 1.15em; color: rgb(16, 198, 96)">AT</a><a href="/tags/MQTT/" style="font-size: 1.15em; color: rgb(160, 62, 54)">MQTT</a><a href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/" style="font-size: 1.15em; color: rgb(180, 6, 195)">读书笔记</a><a href="/tags/Nginx/" style="font-size: 1.2em; color: rgb(51, 170, 72)">Nginx</a><a href="/tags/SSL/" style="font-size: 1.2em; color: rgb(5, 197, 118)">SSL</a><a href="/tags/FreeRTOS/" style="font-size: 1.15em; color: rgb(18, 96, 97)">FreeRTOS</a><a href="/tags/%E5%B5%8C%E5%85%A5%E5%BC%8F/" style="font-size: 1.2em; color: rgb(199, 18, 115)">嵌入式</a><a href="/tags/TCP/" style="font-size: 1.15em; color: rgb(123, 198, 200)">TCP</a><a href="/tags/%E7%BD%91%E7%BB%9C/" style="font-size: 1.15em; color: rgb(193, 21, 102)">网络</a><a href="/tags/%E5%8A%A8%E6%80%81%E9%93%BE%E6%8E%A5%E5%BA%93/" style="font-size: 1.15em; color: rgb(95, 7, 200)">动态链接库</a><a href="/tags/HTTP/" style="font-size: 1.2em; color: rgb(185, 122, 68)">HTTP</a><a href="/tags/Ubuntu/" style="font-size: 1.2em; color: rgb(101, 50, 60)">Ubuntu</a><a href="/tags/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" style="font-size: 1.2em; color: rgb(5, 7, 119)">设计模式</a><a href="/tags/%E7%A8%8B%E5%BA%8F%E8%B7%B3%E8%BD%AC/" style="font-size: 1.15em; color: rgb(28, 165, 148)">程序跳转</a><a href="/tags/shell/" style="font-size: 1.25em; color: rgb(22, 133, 79)">shell</a><a href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" style="font-size: 1.25em; color: rgb(149, 99, 11)">微信小程序</a><a href="/tags/Java/" style="font-size: 1.25em; color: rgb(153, 94, 107)">Java</a><a href="/tags/SQL/" style="font-size: 1.3em; color: rgb(181, 40, 161)">SQL</a><a href="/tags/%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93/" style="font-size: 1.2em; color: rgb(145, 75, 187)">连接数据库</a><a href="/tags/%E5%9F%BA%E7%A1%80/" style="font-size: 1.25em; color: rgb(90, 193, 76)">基础</a><a href="/tags/JavaWeb/" style="font-size: 1.25em; color: rgb(45, 11, 61)">JavaWeb</a><a href="/tags/%E6%9D%82%E6%96%87/" style="font-size: 1.2em; color: rgb(81, 191, 25)">杂文</a><a href="/tags/%E9%85%8D%E7%BD%AE/" style="font-size: 1.15em; color: rgb(12, 183, 190)">配置</a><a href="/tags/JavaScript/" style="font-size: 1.15em; color: rgb(66, 191, 113)">JavaScript</a><a href="/tags/mcu%E7%83%A7%E5%BD%95/" style="font-size: 1.15em; color: rgb(12, 115, 130)">mcu烧录</a><a href="/tags/SSH/" style="font-size: 1.15em; color: rgb(100, 77, 151)">SSH</a><a href="/tags/leetcode/" style="font-size: 1.2em; color: rgb(194, 89, 193)">leetcode</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="fas fa-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/11/"><span class="card-archive-list-date">十一月 2022</span><span class="card-archive-list-count">3</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/10/"><span class="card-archive-list-date">十月 2022</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/09/"><span class="card-archive-list-date">九月 2022</span><span class="card-archive-list-count">2</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/07/"><span class="card-archive-list-date">七月 2022</span><span class="card-archive-list-count">6</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/05/"><span class="card-archive-list-date">五月 2022</span><span class="card-archive-list-count">7</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/02/"><span class="card-archive-list-date">二月 2022</span><span class="card-archive-list-count">10</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/11/"><span class="card-archive-list-date">十一月 2021</span><span class="card-archive-list-count">8</span></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2021/10/"><span class="card-archive-list-date">十月 2021</span><span class="card-archive-list-count">3</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">103</div></div><div class="webinfo-item"><div class="item-name">本站总字数 :</div><div class="item-count">79k</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-11-08T02:20:56.345Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/home-page.png')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 大笑之</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="chat_btn" type="button" title="聊天"><i class="fas fa-sms"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/vanilla-lazyload/dist/lazyload.iife.min.js"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script>function panguFn () {
  if (typeof pangu === 'object') pangu.autoSpacingPage()
  else {
    getScript('https://cdn.jsdelivr.net/npm/pangu/dist/browser/pangu.min.js')
      .then(() => {
        pangu.autoSpacingPage()
      })
  }
}

function panguInit () {
  if (false){
    GLOBAL_CONFIG_SITE.isPost && panguFn()
  } else {
    panguFn()
  }
}

document.addEventListener('DOMContentLoaded', panguInit)</script><script src="https://cdn.jsdelivr.net/npm/algoliasearch/dist/algoliasearch-lite.umd.min.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script><div class="js-pjax"><script>function subtitleType () {
  getScript('https://sdk.jinrishici.com/v2/browser/jinrishici.js').then(() => {
    jinrishici.load(result =>{
      if (true) {
        const sub = ["且住为佳耳","基因突变中"]
        const content = result.data.content
        sub.unshift(content)
        window.typed = new Typed('#subtitle', {
          strings: sub,
          startDelay: 300,
          typeSpeed: 150,
          loop: true,
          backSpeed: 50,
        })
      } else {
        document.getElementById('subtitle').innerHTML = result.data.content
      }
    })
  })
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}
</script><script>(() => {
  const $mermaidWrap = document.querySelectorAll('#article-container .mermaid-wrap')
  if ($mermaidWrap.length) {
    window.runMermaid = () => {
      window.loadMermaid = true
      const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'dark' : 'default'

      Array.from($mermaidWrap).forEach((item, index) => {
        const mermaidSrc = item.firstElementChild
        const mermaidThemeConfig = '%%{init:{ \'theme\':\'' + theme + '\'}}%%\n'
        const mermaidID = 'mermaid-' + index
        const mermaidDefinition = mermaidThemeConfig + mermaidSrc.textContent
        mermaid.mermaidAPI.render(mermaidID, mermaidDefinition, (svgCode) => {
          mermaidSrc.insertAdjacentHTML('afterend', svgCode)
        })
      })
    }

    const loadMermaid = () => {
      window.loadMermaid ? runMermaid() : getScript('https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js').then(runMermaid)
    }

    window.pjax ? loadMermaid() : document.addEventListener('DOMContentLoaded', loadMermaid)
  }
})()</script></div><div class="aplayer no-destroy" data-id="7723944372" data-server="netease" data-type="playlist" data-fixed="true" data-autoplay="true" data-lrcType="-1"> </div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="false"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/aplayer/dist/APlayer.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc/metingjs/dist/Meting.min.js"></script><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

  typeof disqusjs === 'object' && disqusjs.destroy()
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>